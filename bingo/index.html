<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="google-site-verification" content="MD90Yss8t7VRGIyZQYEGNS4SPkazpoqRJhn-KvPxnT4" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="description" content="Metrobots 3324 - FIRST Robotics Team">
  <meta name="keywords" content="Metrobots, FIRST Robotics, Team 3324, Robotics">

  <title>Bingo</title>

  <link rel="apple-touch-icon" sizes="180x180" href="https://metrobots.github.io/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://metrobots.github.io/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://metrobots.github.io/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="https://metrobots.github.io/assets/favicon/site.webmanifest">
  <link rel="mask-icon" href="https://metrobots.github.io/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#333333">
  <meta name="theme-color" content="#ffffff">
  
<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: system-ui, sans-serif;
    background: #fafafa;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
  }
  
  h1 {
    font-size: 2.5em;
    margin-bottom: 20px;
    color: #111;
  }
  
  .stats {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
    font-size: 0.95em;
    color: #666;
  }
  
  #board {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
    max-width: 550px;
    margin-bottom: 20px;
  }
  
  .cell {
    aspect-ratio: 1 / 1;
    background: #fff;
    border: 2px solid #ddd;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 12px;
    cursor: pointer;
    user-select: none;
    font-weight: 500;
    color: #333;
    font-size: 0.9em;
    transition: all 0.15s;
  }
  
  .cell:hover:not(.marked) {
    background: #f5f5f5;
    border-color: #999;
  }
  
  .cell.marked {
    background: #2563eb;
    color: #fff;
    border-color: #2563eb;
  }
  
  .cell.winning {
    background: #16a34a;
    border-color: #16a34a;
    animation: highlight 0.4s ease;
  }
  
  @keyframes highlight {
    50% { transform: scale(1.05); }
  }
  
  .confetti {
    position: fixed;
    pointer-events: none;
  }
  
  @keyframes confetti-fall {
    to {
      transform: translateY(100vh) rotate(1080deg);
      opacity: 0;
    }
  }
  
  .controls {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
  }
  
  button {
    padding: 10px 20px;
    font-size: 0.95em;
    font-weight: 500;
    border: 1px solid #ddd;
    border-radius: 6px;
    background: #fff;
    cursor: pointer;
    transition: all 0.15s;
    color: #333;
  }
  
  button:hover {
    background: #f5f5f5;
    border-color: #999;
  }
  
  button:active {
    background: #eee;
  }
  
  .modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
  }
  
  .modal-content {
    background: #fff;
    padding: 40px;
    border-radius: 8px;
    text-align: center;
    max-width: 90%;
  }
  
  .modal h2 {
    font-size: 2em;
    margin-bottom: 10px;
    color: #111;
  }
  
  .modal p {
    color: #666;
    margin-bottom: 20px;
  }
  
  .modal button {
    background: #2563eb;
    color: #fff;
    border-color: #2563eb;
  }
  
  .modal button:hover {
    background: #1d4ed8;
  }
  
  @media (max-width: 640px) {
    h1 { font-size: 2em; }
    .cell { font-size: 0.8em; padding: 8px; }
  }
</style>
</head>
<body>
<h1>Bingo</h1>

<div class="stats">
  <div>Marked: <strong><span id="markedCount">1</span>/25</strong></div>
  <div>Wins: <strong><span id="winCount">0</span></strong></div>
</div>

<div id="board"></div>

<div class="controls">
  <button id="newBoard">New Board</button>
  <button id="resetMarks">Reset Marks</button>
  <button id="shareBtn">Share Board</button>
</div>

<div id="winModal" class="modal">
  <div class="modal-content">
    <h2>Bingo!</h2>
    <p>You completed a line</p>
    <button onclick="closeModal()">Continue</button>
  </div>
</div>

<script>
const OPTIONS = [
  "Re-imagine the past",
  "Technical difficulties",
  "FLL/FTC mentioned",
  "WATER GAME",
  "REBUILT name not relevant at all",
  "Dozer mentioned",
  "Someone makes a \"Rebuilt\" pun",
  "Animated robots break game rules",
  "HAAS advertisement",
  "Space Force advertisement",
  "Game uses past year's game pieces",
  "Game uses fully new game pieces",
  "Game is shooter focused",
  "Game is pick-and-place focused",
  "Mark Rober appears",
  "Will.I.Am appears",
  "Game has some sort of terrain",
  "Dean Kamen hits table with his hand",
  "Game manual leaks early",
  "Game manual site crashes",
  "Game piece names are Rock/Fossil/Gem related",
  "The broadcast contains awkward close-ups/zoom-ins",
  "Archaeologist speaks",
  "Game has crowd interaction",
  "Student interviews",
  "We're about to reveal it but first",
  "Reference to last years game",
  "Graphics that are completely unrelated",
  "Woodie Flowers mention"
];

const boardEl = document.getElementById("board");
const markedCountEl = document.getElementById("markedCount");
const winCountEl = document.getElementById("winCount");
const winModal = document.getElementById("winModal");
let cells = [];
let winCount = 0;
let hasWon = false;

function mulberry32(seed) {
  return function () {
    let t = seed += 0x6D2B79F5;
    t = Math.imul(t ^ t >>> 15, t | 1);
    t ^= t + Math.imul(t ^ t >>> 7, t | 61);
    return ((t ^ t >>> 14) >>> 0) / 4294967296;
  };
}

function shuffle(array, rng) {
  const a = [...array];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(rng() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function getSeed() {
  const params = new URLSearchParams(window.location.search);
  return params.has("seed")
    ? parseInt(params.get("seed"), 10)
    : Math.floor(Math.random() * 1e9);
}

function setSeed(seed) {
  const url = new URL(window.location);
  url.searchParams.set("seed", seed);
  history.replaceState(null, "", url);
}

function generateBoard(seed) {
  boardEl.innerHTML = "";
  cells = [];
  hasWon = false;
  const rng = mulberry32(seed);
  const picks = shuffle(OPTIONS, rng).slice(0, 25);
  picks[12] = "FREE";
  
  picks.forEach((text, i) => {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.textContent = text;
    if (i === 12) cell.classList.add("marked");
    cell.addEventListener("click", () => {
      cell.classList.toggle("marked");
      updateStats();
      checkWin();
    });
    boardEl.appendChild(cell);
    cells.push(cell);
  });
  
  updateStats();
}

function updateStats() {
  const marked = cells.filter(c => c.classList.contains("marked")).length;
  markedCountEl.textContent = marked;
}

function checkWin() {
  if (hasWon) return;
  
  const marked = cells.map(c => c.classList.contains("marked"));
  const wins = [
    [0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],
    [15,16,17,18,19],[20,21,22,23,24],
    [0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],
    [3,8,13,18,23],[4,9,14,19,24],
    [0,6,12,18,24],[4,8,12,16,20]
  ];
  
  const winningLine = wins.find(line => line.every(i => marked[i]));
  
  if (winningLine) {
    hasWon = true;
    winCount++;
    winCountEl.textContent = winCount;
    
    winningLine.forEach(i => {
      cells[i].classList.add("winning");
    });
    
    createConfetti();
    
    setTimeout(() => {
      winModal.style.display = "flex";
    }, 400);
  }
}

function closeModal() {
  winModal.style.display = "none";
}

function createConfetti() {
  const colors = ['#ff6b6b', '#ffd93d', '#6bcf7f', '#4ecdc4', '#45b7d1', '#a855f7', '#ff69eb', '#ff8c42'];
  for (let i = 0; i < 150; i++) {
    setTimeout(() => {
      const confetti = document.createElement("div");
      confetti.className = "confetti";
      confetti.style.left = Math.random() * 100 + "%";
      confetti.style.top = "-20px";
      confetti.style.width = Math.random() * 12 + 6 + "px";
      confetti.style.height = Math.random() * 12 + 6 + "px";
      confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.borderRadius = Math.random() > 0.5 ? "50%" : "0";
      confetti.style.opacity = "1";
      confetti.style.animation = `confetti-fall ${Math.random() * 3 + 2}s ease-out forwards`;
      confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
      document.body.appendChild(confetti);
      setTimeout(() => confetti.remove(), 5000);
    }, i * 15);
  }
}

document.getElementById("newBoard").addEventListener("click", () => {
  const seed = Math.floor(Math.random() * 1e9);
  setSeed(seed);
  generateBoard(seed);
});

document.getElementById("resetMarks").addEventListener("click", () => {
  hasWon = false;
  cells.forEach((cell, i) => {
    cell.classList.remove("marked", "winning");
    if (i === 12) cell.classList.add("marked");
  });
  updateStats();
});

document.getElementById("shareBtn").addEventListener("click", () => {
  const url = window.location.href;
  navigator.clipboard.writeText(url).then(() => {
    const btn = document.getElementById("shareBtn");
    const orig = btn.textContent;
    btn.textContent = "Copied!";
    setTimeout(() => btn.textContent = orig, 2000);
  });
});

const seed = getSeed();
setSeed(seed);
generateBoard(seed);
</script>
</body>
</html>
